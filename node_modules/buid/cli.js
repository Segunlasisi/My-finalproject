#!/usr/bin/env node
"use strict";var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault"),_regenerator=_interopRequireDefault(require("@babel/runtime/regenerator")),_asyncToGenerator2=_interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator")),yargs=_interopRequireWildcard(require("yargs")),_buid=_interopRequireWildcard(require("./buid")),_yargs$options$config=yargs.options({p:{alias:"path",demandOption:!0,type:"string",describe:"Path to the JSON file with data"},c:{alias:"chain",type:"array",describe:"Chain of keys corresponding to the arrays in objects",default:_buid.defaults.chain},f:{alias:"fix",type:"boolean",describe:"Fix and return to a json file/object"},s:{alias:"skip",type:"array",describe:"Keys to skip while getting array in an object",default:_buid.defaults.skip},l:{alias:"segmentLength",type:"number",default:_buid.defaults.segmentLength,describe:"Length of corresponding id segment"},v:{alias:"verbose",type:"boolean",describe:"Enable verbose logging",default:_buid.defaults.verbose}}).config(),_yargs$options$config2=_yargs$options$config.argv,path=_yargs$options$config2.p,chain=_yargs$options$config2.c,fix=_yargs$options$config2.f,skip=_yargs$options$config2.s,segmentLength=_yargs$options$config2.l,verbose=_yargs$options$config2.v;(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function a(){return _regenerator["default"].wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,_buid["default"])({path:path,chain:chain,fix:fix,skip:skip,segmentLength:segmentLength,verbose:verbose,cli:!0});case 2:process.exit(0);case 3:case"end":return a.stop();}},a)}))();